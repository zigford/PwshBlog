<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="main.css" type="text/css" />
<link rel="stylesheet" href="blog.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="Subscribe to this page..." href="feed.rss" />
<title>zigford.org</title>
</head><body>
<div id="divbodyholder">
<div class="headerholder"><div class="header">
<div id="title">
<h1 class="nomargin"><a class="ablack" href="http://zigford.org/index.html">zigford.org</a></h1>
<div id="description"><a href="about.html">About</a><a href="links.html"> | Links</a><a href="scripts.html"> | Scripts</a><br>Sharing linux/windows scripts and tips</br></div>
</div></div></div>
<div id="divbody"><div class="content">
<h3><a class="ablack" href="gentoo-local-overlay.html">
Gentoo local overlay
</a></h3>
<!-- bashblog_timestamp: #201809180909.41# -->
<div class="subtitle">September 18, 2018 &mdash; 
Jesse Harris
</div>
<!-- text begin -->

<p>I find myself having to create a local overlay to test/develop a new ebuild
without affecting my main system from time to time. I usually fire up a clean
kvm Gentoo guest to start working on, but I've usually forgotten the proceedure</p>

<p>This is a quick instruction on a straight-forward local overlay</p>

<ol>
<li><p>Create the local path tree where the overlay will reside:</p>

<pre><code>mkdir -p /usr/local/portage/overlay/{metadata,profiles}
</code></pre></li>
<li><p>Create the <code>layout.conf</code> file and <code>repo_name</code> file</p>

<pre><code>cd /usr/local/portage/overlay
echo "masters = gentoo" &gt; metadata/layout.conf
echo  "$(hostname)" &gt; profiles/repo_name
</code></pre></li>
<li><p>Create a repos.conf file:</p>

<pre><code>cat &lt;&lt;EOF&gt;/etc/portage/repos.conf/$(hostname).conf
[$(hostname)]
location = /usr/local/portage/overlay
auto-sync = no
priority = 10
EOF
</code></pre></li>
</ol>

<h2>done.</h2>

<p>Now you can begin to populate the local repo with custom ebuilds. I usually do
this and then upload my new ebuild to my <a href="https://github.com/zigford/gentoo-zigford">github</a> repository.</p>

<p>See also:</p>

<p><a href="https://wiki.gentoo.org/wiki//etc/portage/repos.conf">repos.conf</a>, <a href="https://wiki.gentoo.org/wiki/Custom_repository">Custom Repository</a></p>

<p>Tags: <a href='tag_gentoo.html'>gentoo</a>, <a href='tag_portage-overlay.html'>portage-overlay</a></p>

<!-- text end -->
<h3><a class="ablack" href="first-look-at-powershell-610.html">
First look at powershell 6.1.0
</a></h3>
<!-- bashblog_timestamp: #201809150832.39# -->
<div class="subtitle">September 15, 2018 &mdash; 
Jesse Harris
</div>
<!-- text begin -->

<p>Powershell <a href="https://github.com/PowerShell/PowerShell/releases">6.1.0</a> dropped yesterday. Here is my quick look.</p>

<h2>New Commands</h2>

<p><code>Get-Command | Measure-Object</code> on each version:</p>

<p>Version 6.0.4 had 316 commands, while 6.1.0 has 323 commands. Comparing a list
of commands:</p>

<p>On 6.0.4: <code>gcm | select -exp name &gt; 6.0.4.txt</code> and the same on 6.1.0, then to
compare:</p>

<pre><code>    compare-object (gc ./6.0.4.txt) (gc ./6.1.0.txt)

    InputObject             SideIndicator
    -----------             -------------
    ConvertFrom-Markdown    =&gt;
    Get-ExperimentalFeature =&gt;
    Get-MarkdownOption      =&gt;
    Set-MarkdownOption      =&gt;
    Show-Markdown           =&gt;
    Start-ThreadJob         =&gt;
    Test-Connection         =&gt;
    Test-Json               =&gt;
    more                    &lt;=
</code></pre>

<p class="readmore"><a href="./first-look-at-powershell-610.html">Read more...</a></p>
<h3><a class="ablack" href="manage-a-hosts-file.html">
Manage a hosts file
</a></h3>
<!-- bashblog_timestamp: #201809112230.51# -->
<div class="subtitle">September 11, 2018 &mdash; 
Jesse Harris
</div>
<!-- text begin -->

<p>Most people have long forgotten the lowly <a href="https://en.wikipedia.org/wiki/Hosts_(file)">hosts</a> file, but from time to
time there is still a need to use it.</p>

<p>So I wrote some powershell functions to automate it in a simpler way.</p>

<p class="readmore"><a href="./manage-a-hosts-file.html">Read more...</a></p>
<h3><a class="ablack" href="write-information--write-host.html">
Write-Information > Write-Host
</a></h3>
<!-- bashblog_timestamp: #201809060849.36# -->
<div class="subtitle">September 06, 2018 &mdash; 
Jesse Harris
</div>
<!-- text begin -->

<p>June Blender writing for <a href="https://blogs.technet.microsoft.com/heyscriptingguy/2015/07/04/weekend-scripter-welcome-to-the-powershell-information-stream/">Hey, Scripting Guy! Blog</a>:</p>

<blockquote>
  <p>The dilemma was how to fix the harmful aspects of Write-Host (can't suppress,
capture, or redirect), but keep it from polluting the output stream. And of
course, the solution must be backward compatible.</p>

<p>This most elegant solution is provided by the information stream and the
Write-Information cmdlet. The information stream is a new output stream that
works much like the error and warning streams.</p>
</blockquote>

<p>The information stream is a feature of powershell versions 5.x that I missed
when it came out. Thus I have been avoiding using Write-Host in favour of
Write-Verbose since reading about <a href="http://www.jsnover.com/blog/2013/12/07/write-host-considered-harmful/">Write-Host Considered Harmful</a>.</p>

<p>If you care about writing reusable automation friendly code, go have a read.</p>

<p>Tags: <a href='tag_powershell.html'>powershell</a>, <a href='tag_streams.html'>streams</a></p>




<!-- text end -->
<h3><a class="ablack" href="replacing-bash-scripting-with-powershell.html">
Replacing bash scripting with powershell
</a></h3>
<!-- bashblog_timestamp: #201809042235.22# -->
<div class="subtitle">September 04, 2018 &mdash; 
Jesse Harris
</div>
<!-- text begin -->

<p><a href="https://github.com/ninjaaron/replacing-bash-scripting-with-python">This</a> article on replacing bash scripting with python was being shared
around on twitter today.</p>

<blockquote>
  <p>The problem is if you want to do basically anything else, e.g. write logic, 
use control structures, handle complex data... You're going to have big 
problems. When Bash is coordinating external programs, it's fantastic. When 
it's doing any work whatsoever itself, it disintegrates into a pile of 
garbage.</p>
</blockquote>

<p>To me, this is what is awesome about PowerShell. I feel like it gets the shell
part right, and also supports sane logic, data structures and so on. Sticking
to the same language for quick system admin tasks and for longer form script
writing really helps learn the ins-and-outs of a language.</p>

<p>As for python, I have started writing some of my regular tools for use on
linux in python and so far it just doesn't seem as natural as powershell,
although that could just be because powershell is like muscle memory for me.</p>

<p>I'd love to give powershell a better chance on linux, but, it is a bit slow
to spin up on the <a href="raspberry-pi.html">raspberry pi</a> and not available
everywhere. For instance to use it on Gentoo, I've got it installed as a snap.</p>

<p>If you have any comments or feedback, please <a href="mailto:jesse@zigford.org">email</a>
me and let me know if you will allow your feedback to be posted here.</p>

<p>Tags: <a href='tag_shells.html'>shells</a>, <a href='tag_bash.html'>bash</a>, <a href='tag_python.html'>python</a>, <a href='tag_scripting.html'>scripting</a>, <a href='tag_powershell.html'>powershell</a></p>








<!-- text end -->
<div id="all_posts"><a href="all_posts.html">View more posts</a> &mdash; <a href="all_tags.html">All tags</a> &mdash; <a href="feed.rss">Subscribe</a></div>
</div>
<div id="footer">&copy <a href="http://twitter.com/zigford_org">Jesse Harris</a> &mdash; <a href="mailto:jesse&#64;zigford&#46;org">jesse&#64;zigford&#46;org</a><br/>
Generated with <a href="https://github.com/cfenollosa/bashblog">bashblog</a>, a single bash script to easily create blogs like this one</div>
</div></div>
</body></html>
